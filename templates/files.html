{% extends "base.html" %}
{% block html_attribs %} lang="en"{% endblock %}
{% block title %}S3 Object List{% endblock %}

{% block navbar %}
<div class="navbar navbar-fixed-top">
  <!-- ... -->
</div>
{% endblock %}

{% block content %}
<div class="container">
  <div class="col-12-xs">
    <h3>Bucket Info</h3>
    <p>Created: {{ my_bucket.creation_date }}</p>

    <hr>
    <table class="table table-striped">
      <tr>
        <th>Filename</th>
        <th>Last Modified</th>
        <th>Type</th>
        <th>Tag</th>
      </tr>
      {% for f in files %}
      <tr>
        <td>{{ f.key }}</td>
        <td>{{ f.last_modified | datetimeformat }}</td>
        <td>{{ f.key | file_type }}</td>
        <td>{{ f.key.Tagging  }}</td>
        <td><a href=https://{{my_bucket.name}}.s3-ap-southeast-1.amazonaws.com/{{ f.key }}>
              <img class="img-responsive" src=https://{{my_bucket.name}}.s3-ap-southeast-1.amazonaws.com/{{ f.key }} width="200" height="132">
            </a>
        </td>
      </tr>
      {% endfor %}
    </table>
  </div>
</div>
{% endblock %}